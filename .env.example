# ============================================
# EK-SMS Environment Configuration
# ============================================
# Copy this file to .env.local and fill in your values
# NEVER commit .env.local to git
#
# Note: We use non-standard ports to avoid conflicts
# PostgreSQL: 5440 (default is 5432)
# Redis: 6380 (default is 6379)
# API: 8002 (default is 8000)
#
# â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
# â”‚  ENVIRONMENT VARIABLE REFERENCE                             â”‚
# â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
# â”‚  ğŸ”µ API ONLY      - Used by apps/api (Python/FastAPI)       â”‚
# â”‚  ğŸŸ¢ WEB ONLY      - Used by apps/web (Next.js)              â”‚
# â”‚  ğŸŸ  SHARED        - Used by both API and Web                â”‚
# â”‚  ğŸ”§ INFRASTRUCTURE - Used by Docker/pgAdmin only            â”‚
# â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


# ============================================
# ğŸŸ  SHARED - Environment Mode
# ============================================
# Used by: API (PYTHON_ENV), Web (NODE_ENV)
NODE_ENV=development
PYTHON_ENV=development


# ============================================
# ğŸ”µ API ONLY - Database (PostgreSQL)
# ============================================
# Used by: apps/api/src/app/core/config.py
POSTGRES_HOST=localhost
POSTGRES_PORT=5440
POSTGRES_USER=eksms
POSTGRES_PASSWORD=eksms_dev_password
POSTGRES_DB=eksms_dev

# Full connection URL (auto-constructed if not provided)
# For cloud deployments (Railway, Render, etc.), set DATABASE_URL directly
DATABASE_URL=postgresql+asyncpg://${POSTGRES_USER}:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/${POSTGRES_DB}


# ============================================
# ğŸ”µ API ONLY - Redis Cache
# ============================================
# Used by: apps/api/src/app/core/config.py
REDIS_HOST=localhost
REDIS_PORT=6380
REDIS_PASSWORD=
REDIS_URL=redis://${REDIS_HOST}:${REDIS_PORT}/0


# ============================================
# ğŸ”µ API ONLY - Server Configuration
# ============================================
# Used by: apps/api/src/app/core/config.py
API_HOST=0.0.0.0
API_PORT=8002
API_DEBUG=true
API_SECRET_KEY=your-super-secret-key-change-in-production-min-32-chars


# ============================================
# ğŸ”µ API ONLY - JWT Authentication
# ============================================
# Used by: apps/api/src/app/core/config.py
JWT_SECRET_KEY=your-jwt-secret-key-change-in-production-min-32-chars
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7


# ============================================
# ğŸ”µ API ONLY - Email (SMTP)
# ============================================
# Used by: apps/api/src/app/core/config.py
# For development: Use Mailpit (localhost:1025)
# For production: Use real SMTP (SendGrid, AWS SES, etc.)
SMTP_HOST=localhost
SMTP_PORT=1025
SMTP_USER=
SMTP_PASSWORD=
SMTP_FROM_EMAIL=noreply@eksms.local
SMTP_FROM_NAME=EK-SMS


# ============================================
# ğŸ”µ API ONLY - Two-Factor Authentication
# ============================================
# Used by: apps/api/src/app/core/config.py
TOTP_ISSUER_NAME=EK-SMS


# ============================================
# ğŸ”µ API ONLY - Security (CORS & Hosts)
# ============================================
# Used by: apps/api/src/app/core/config.py
# CORS_ORIGINS: Comma-separated list of allowed frontend origins
# ALLOWED_HOSTS: Comma-separated list of allowed hostnames
CORS_ORIGINS=http://localhost:3000,http://127.0.0.1:3000
ALLOWED_HOSTS=localhost,127.0.0.1


# ============================================
# ğŸ”µ API ONLY - Logging
# ============================================
# Used by: apps/api/src/app/core/config.py
# Options: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=DEBUG


# ============================================
# ğŸŸ¢ WEB ONLY - Frontend Configuration
# ============================================
# Used by: apps/web/src/lib/env.ts
# IMPORTANT: Variables prefixed with NEXT_PUBLIC_ are exposed to the browser
# Never put secrets in NEXT_PUBLIC_ variables!
NEXT_PUBLIC_API_URL=http://localhost:8002
NEXT_PUBLIC_APP_URL=http://localhost:3000


# ============================================
# ğŸ”§ INFRASTRUCTURE - Docker/pgAdmin
# ============================================
# Used by: docker-compose.yml (local development only)
# Not used by the application code
PGADMIN_DEFAULT_EMAIL=admin@eksms.dev
PGADMIN_DEFAULT_PASSWORD=admin